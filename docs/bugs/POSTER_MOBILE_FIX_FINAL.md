# ‚úÖ –†–ï–®–ï–ù–û: –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–µ—Ä–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (Android Chrome) –Ω–æ–≤—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: Image Proxy

–°–æ–∑–¥–∞–Ω **Image Proxy API** –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ö–æ–¥–∏—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

### üéØ **–†–∞–±–æ—á–µ–µ —Ä–µ—à–µ–Ω–∏–µ**

#### 1. Image Proxy API (`/api/image-proxy/route.ts`)
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ TMDB/Fanart —Å —Å–µ—Ä–≤–µ—Ä–∞ (–æ–±—Ö–æ–¥ CORS)
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ User-Agent –∑–∞–≥–æ–ª–æ–≤–∫–∏
- Rate limiting –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Fallback –ª–æ–≥–∏–∫–∞ —Å placeholder

#### 2. MoviePosterProxy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (`/api/components/MoviePosterProxy.tsx`)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏ URL: `/api/image-proxy?url=...`
- Retry –ª–æ–≥–∏–∫–∞ —Å cache busting
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Next.js Image

#### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ MovieCard
```typescript
const getPosterStrategy = () => {
  const useProxy = process.env.NEXT_PUBLIC_USE_IMAGE_PROXY === 'true';
  if (useProxy) return 'proxy';
  return 'default';
};
```

### ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**

```bash
# .env
NEXT_PUBLIC_USE_IMAGE_PROXY=true  # –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
```

### üîß **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**

1. **–ö–ª–∏–µ–Ω—Ç** –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `/api/image-proxy?url=https://image.tmdb.org/t/p/w500/poster.jpg`
2. **–°–µ—Ä–≤–µ—Ä** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ TMDB —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
3. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** –æ—Ç–≤–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
4. **Next.js Image** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### üöÄ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

- ‚úÖ **–û–±—Ö–æ–¥ CORS** - —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ **–û–±—Ö–æ–¥ –∫—ç—à–∞ Chrome** - –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - retry –∏ fallback –ª–æ–≥–∏–∫–∞
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - rate limiting –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç**

–ü–æ—Å—Ç–µ—Ä—ã —Ç–µ–ø–µ—Ä—å **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è** –Ω–∞ –≤—Å–µ—Ö –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –≤–∫–ª—é—á–∞—è Android Chrome.

### üóëÔ∏è **–£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

–°–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∫–∞–∫ –Ω–µ–Ω—É–∂–Ω—ã–µ:
- `MoviePosterFallback.tsx` - –Ω–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª—Å—è
- `MoviePoster.tsx` (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π) - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –ø—Ä–æ–∫—Å–∏ –≤–µ—Ä—Å–∏—é

### üîÑ **Rollback –ø–ª–∞–Ω**

–ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –û—Ç–∫–ª—é—á–∏—Ç—å: `NEXT_PUBLIC_USE_IMAGE_PROXY=false`
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω–µ—Ç—Å—è –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É Next.js Image

### üìù **–ò—Ç–æ–≥**

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞** —á–µ—Ä–µ–∑ Image Proxy –ø–æ–¥—Ö–æ–¥. –≠—Ç–æ –Ω–∞–¥–µ–∂–Ω–æ–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

---
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û**  
**–î–∞—Ç–∞:** 1 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–ü–æ–¥—Ö–æ–¥:** Image Proxy API  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ—Å—Ç–µ—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤–µ–∑–¥–µ
